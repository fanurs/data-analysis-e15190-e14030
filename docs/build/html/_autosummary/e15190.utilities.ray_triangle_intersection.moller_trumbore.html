
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>e15190.utilities.ray_triangle_intersection.moller_trumbore &#8212; Data Analysis for E15190-E14030  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxdoc.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Data Analysis for E15190-E14030  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">e15190.utilities.ray_triangle_intersection.moller_trumbore</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="e15190-utilities-ray-triangle-intersection-moller-trumbore">
<h1>e15190.utilities.ray_triangle_intersection.moller_trumbore<a class="headerlink" href="#e15190-utilities-ray-triangle-intersection-moller-trumbore" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="e15190.utilities.ray_triangle_intersection.moller_trumbore">
<span class="sig-prename descclassname"><span class="pre">e15190.utilities.ray_triangle_intersection.</span></span><span class="sig-name descname"><span class="pre">moller_trumbore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ray_origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ray_vectors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">triangles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'einsum'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-09</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#e15190.utilities.ray_triangle_intersection.moller_trumbore" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of Moller-Trumbore ray-triangle intersection algorithm
To read more about the mathematical derivation, visit
<a class="reference external" href="https://www.scratchapixel.comhttps://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-rendering-a-triangle/moller-trumbore-ray-triangle-intersection">https://www.scratchapixel.comhttps://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-rendering-a-triangle/moller-trumbore-ray-triangle-intersection</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ray_origin</strong> – array of shape (3, )
This implementation only allows all rays to have one common origin.</p></li>
<li><p><strong>ray_vectors</strong> – array of shape (n_rays, 3)
The ray vectors are only used to tell the directions. No
normalization is needed.</p></li>
<li><p><strong>triangles</strong> – array of shape (n_triangles, 3, 3)
An array of 3 x 3 arrays. Each 3 x 3 array consists of three
vertices that specify the triangle. For example, the y-coordinate of
the first vertex in the fifth triangle would be
<cite>triangles[4][0][1]</cite>.</p></li>
<li><p><strong>mode</strong> – str, default <cite>‘einsum’</cite>
To select different implementations of the algorithm. In ‘einsum’
mode, the <cite>numpy.einsum()</cite> function is heavily used to optimize the
calculations. Otherwise, we will use the implementation without
‘einsum’. Our simple test suggests, for 1 million rays and 12
triangles, ‘einsum’ mode performs at least two times faster than the
mode without ‘einsum’.</p></li>
<li><p><strong>tol</strong> – float, default 1e-9
Tolerance for checking the determinant in the algorithm. If the
determinant is smaller than the tolerance, then the ray would be
assumed parallel to the plane of the triangle, hence no attempt
would be made to determine the intersection point.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy.ndarray of intersections with shape (n_triangles, n_rays, 3).</p>
</dd>
</dl>
</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Data Analysis for E15190-E14030  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">e15190.utilities.ray_triangle_intersection.moller_trumbore</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018-2022, MSU/FRIB HiRA group.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>